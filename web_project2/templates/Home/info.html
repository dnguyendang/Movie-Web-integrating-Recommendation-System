<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>

    <!-- Link CSS for userprofile -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'Home/userprofile.css' %}">
    <!--Box Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    
</head>
<body>
    <!-- Navbar-->
    <header>
        <a href="#" class="logo">
            <i class='bx bxs-movie'></i> Movies
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>

        <!-- Menu -->
        <ul class="navbar">
            <li><a href="{% url 'Home' %}#home" class="home-active">Home</a></li>
            <li><a href="{% url 'Movies' %}">Movies</a></li>
            <li><a href="{% url 'Movies_popularity' %}">Popular</a></li>
            <li><a href="{% url 'Movies_rate' %}">Top Rated</a></li>
            <li><a>Genre</a>
                <ul class="dropdown">
                    {% for genre in genres %}
                        <li><a href="{% url 'Movies_by_genre' genre.id %}">{{genre.name }}</a></li>
                    {% endfor %}
                </ul>
            </li>
            <li><a>Country</a>
                <ul class="dropdown">
                    {% for country in countries %}
                        <li><a href="{% url 'Movies_by_country' country.id %}">{{country.name}}</a></li>
                    {% endfor %}
                </ul>
            </li>
        </ul>
        {% if user.is_authenticated %}
            <div class="button">
                <a href="{% url 'UserProfile' %}" class="btn">{{user.username}}</a>
                <a href="{% url 'Logout' %}" class="btn">Logout</a>
            </div>
        {% else %}
            <div class="button">
                <a href="{% url 'Login' %}" class="btn">Login</a>
                <a href="{% url 'Register' %}" class="btn">Register</a>
            </div>
        {% endif %}
    </header>
    <!-- profile user -->
    <section class="userprofile" id="userprofile">
        <h2 class="heading">User Profile</h2>
        <!-- content -->
        <div class="container light-style flex-grow-1 container-p-y">
            <div class="card overflow-hidden">
                <div class="row no-gutters row-bordered row-border-light">
                    <div class="col-md-3 pt-0">
                        <div class="list-group list-group-flush account-settings-links">
                            <a class="list-group-item list-group-item-action"
                                href="{% url 'UserProfile' %}">General</a>
                            <a class="list-group-item list-group-item-action"
                                href="{% url 'ChangePassword' %}">Change password</a>
                            <a class="list-group-item list-group-item-action active"
                                href="{% url 'Info' %}">Info</a>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <div class="tab-content">
                            <!-- thong tin -->
                            <div class="tab-pane fade active show" id="account-info">
                                <form method="post" action="{% url 'Info' %}">
                                    {% csrf_token %}
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label for="{{ edit_form_info.birth_date.id_for_label}}" class="form-label">{{edit_form_info.birth_date.label}}</label>
                                            <input type="date" class="form-control mb-1" name="birth_date" value="{{ edit_form_info.birth_date.value|date:'Y-m-d'}}" >
                                        </div>
                                        <div class="form-group">
                                            <label for="{{ edit_form_info.gender.id_for_label }}" class="form-label">{{edit_form_info.gender.label}}</label>
                                            <select class="custom-select" name="gender" id="{{ edit_form_info.gender.id_for_label }}">
                                                {% for value, label in edit_form_info.gender.field.choices %}
                                                    <option value="{{ value }}" {% if value == edit_form_info.gender.value %} selected {% endif %}>{{ label }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="{{ edit_form_info.country.id_for_label }}" class="form-label">{{edit_form_info.country.label}}</label>
                                            <select class="custom-select" name="country" id="{{ edit_form_info.country.id_for_label }}">
                                                {% for value, label in edit_form_info.country.field.choices %}
                                                    <option value="{{ value }}" {% if value == edit_form_info.country.value %} selected {% endif %}>{{ label }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div> 
                                    <div class="text-right mt-3">
                                        <button type="submit" class="btn">Save changes</button>&nbsp;
                                        <a href="{% url 'UserProfile' %}">
                                            <button type="button" class="btn">Cancel</button>
                                        </a>
                                    </div>
                                </form>
                            </div>
                        </div>    
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Link to Custom JS-->
    <script src="{% static 'Home/home.js' %}"></script>
</body>
</html>