<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>

    <!-- Link CSS for userprofile -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'Home/userprofile.css' %}">
    <!--Box Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    
</head>
<body>
    <!-- Navbar-->
    <header>
        <a href="#" class="logo">
            <i class='bx bxs-movie'></i> Movies
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>

        <!-- Menu -->
        <ul class="navbar">
            <li><a href="{% url 'Home' %}#home" class="home-active">Home</a></li>
            <li><a href="{% url 'Movies' %}">Movies</a></li>
            <li><a href="{% url 'Movies_popularity' %}">Popular</a></li>
            <li><a href="{% url 'Movies_rate' %}">Top Rated</a></li>
            <li><a>Genre</a>
                <ul class="dropdown">
                    {% for genre in genres %}
                        <li><a href="{% url 'Movies_by_genre' genre.id %}">{{genre.name }}</a></li>
                    {% endfor %}
                </ul>
            </li>
            <li><a>Country</a>
                <ul class="dropdown">
                    {% for country in countries %}
                        <li><a href="{% url 'Movies_by_country' country.id %}">{{country.name}}</a></li>
                    {% endfor %}
                </ul>
            </li>
        </ul>
        {% if user.is_authenticated %}
            <div class="button">
                <a href="{% url 'UserProfile' %}" class="btn">{{user.username}}</a>
                <a href="{% url 'Logout' %}" class="btn">Logout</a>
            </div>
        {% else %}
            <div class="button">
                <a href="{% url 'Login' %}" class="btn">Login</a>
                <a href="{% url 'Register' %}" class="btn">Register</a>
            </div>
        {% endif %}
    </header>
    
    <!-- profile user -->
    <section class="userprofile" id="userprofile">
        <h2 class="heading">User Profile</h2>
        <!-- content -->
        <div class="container light-style flex-grow-1 container-p-y">
            <div class="card overflow-hidden">
                <div class="row no-gutters row-bordered row-border-light">
                    <div class="col-md-3 pt-0">
                        <div class="list-group list-group-flush account-settings-links">
                            <a class="list-group-item list-group-item-action"
                                href="{% url 'UserProfile' %}">General</a>
                            <a class="list-group-item list-group-item-action active"
                                href="{% url 'ChangePassword' %}">Change password</a>
                            <a class="list-group-item list-group-item-action"
                                href="{% url 'Info' %}">Info</a>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <div class="tab-content">
                            <!-- change password -->
                            <div class="tab-pane fade active show" id="account-change-password">
                                <form method="post" action="{% url 'ChangePassword' %}">
                                    {% csrf_token %}
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label for="{{ pswd_change_form.old_password.id_for_label }}" class="form-label">{{pswd_change_form.old_password.label}}</label>
                                            <input type="password" class="form-control" name="old_password">
                                        </div>
                                        <div class="form-group">
                                            <label for="{{ pswd_change_form.new_password1.id_for_label }}" class="form-label">{{pswd_change_form.new_password1.label}}</label>
                                            <input type="password" class="form-control" name="new_password1">
                                        </div>
                                        <div class="form-group"></div>
                                            <label for="{{ pswd_change_form.new_password2.id_for_label }}" class="form-label">{{pswd_change_form.new_password2.label}}</label>
                                            <input type="password" class="form-control" name="new_password2">
                                        </div>
                                    </div>
                                    <div class="text-right mt-3">
                                        <button type="submit" class="btn">Save changes</button>&nbsp;
                                        <a href="{% url 'UserProfile' %}">
                                            <button type="button" class="btn">Cancel</button>
                                        </a>
                                    </div>
                                </form>
                            </div>
                        </div>    
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Link to Custom JS-->
    <script src="{% static 'Home/home.js' %}"></script>
</body>
</html>